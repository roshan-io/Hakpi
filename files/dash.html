
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" sizes="180x180" href="favicon.png">
  <title>Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Audiowide&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Russo+One&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />

  <style>

   canvas#bgCanvas {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
}

    :root {
      --bg: #0e1117;
      --card: #161b22;
      --text: #c9d1d9;
      --accent: #58a6ff;
      --border: #30363d;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {

      color: var(--text);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      padding: 0;
      margin: 0;
      background: black;

    }

    .dashboard {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      grid-auto-rows: minmax(120px, auto);
      gap: 0.85rem;
      padding-top: 0.25rem;
    }

    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 1rem;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
    }



.card.visits-card {
  
  color: var(--text);
  border: 1px solid var(--border);
  padding: 20px;
  padding-top: 40px;
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(0,0,0,0.3);
  text-align: center;


}

.visit-number {
  font-family: 'Russo One', sans-serif;
  font-size: 3.4rem; 
  font-weight: bold;
  display: block;
  margin-top: 20px;
  color: #c1f0c1;
  font-weight: bold;
  text-shadow: 0 0 1px #c1f0c166;
}



    .header {
      grid-column: 1 / -1;
      display: flex;
      padding-left: 30px ; 
      align-items: center;
      margin: 0;
      height: 80px;
      justify-content: space-between;

    }


.header h2 {
  background: linear-gradient(to right, #4582ED, #D56673);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  font-size: 2.1rem;
  letter-spacing: 2px;
  font-weight: 500;

}


.card, .header {
  background: rgba(22, 27, 34, 0.6);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.1);
} 



    .big-card {
      grid-column: span 2;
      grid-row: span 2;
      display: flex;
  align-items: center;     /* horizontal centering */
  justify-content: flex-start; /* vertical centering */
  text-align: center;
 padding-left:2vw ;

}

    .double-height {
      grid-column: span 2;
      grid-row: span 2;
    }

    .user-list {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      max-height: 200px;
      overflow-y: auto;
    }

    .user-item {
      display: flex;
      justify-content: space-between;
      padding: 0.5rem;
      background: var(--bg);
      border-radius: 6px;
    }

    .users-heading {
      font-size: 1.2rem;
      margin-bottom: 1rem;
    }

    /* Clock styling */
    .clock-container {
      text-align: center;
      color: var(--accent);
      padding-top: 30px;
    }

    .time {
      font-family: 'Audiowide', sans-serif;
      font-size: 4rem;
      font-weight: bold;
      color: white;
      display: inline-block;
    }

    .period {
      font-size: 1.2rem;
      margin-left: 0.5rem;
      color: var(--text);
      display: inline-block;
    }

    .date {
      font-size: 1.2rem;
      margin-top: 0.5rem;
      color: var(--text);
    }

    @media (max-width: 1024px) {
      .dashboard {
        grid-template-columns: repeat(2, 1fr);
      }

     /* .second-column {
        grid-row: span 2;
      }*/
    } 



/* Center content inside the crypto and USD cards */
.card.second-column,
#cryptoCard,
#usdCard {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.card.second-column h3 {
  font-family: 'Chakra Petch', sans-serif;
  padding-bottom: 10px;
}


/* Remove bullets from crypto list */
#cryptoRates {
  list-style: none;
  padding: 0;
  margin: 0;
}

/* Style crypto list items */
#cryptoRates li {
  font-size: 1.1rem;
  margin: 5px 0;
  text-align: center;
}

/* Style values */
#cryptoRates span {
  font-weight: bold;
  color: #00e676;
}

#usdRate {
  font-size: 2.4rem;
  color: #00e676;
  font-family: 'Russo One', sans-serif;
  margin-top: 10px;
  text-align: center;
}



    .ram-chart-container {
      position: relative;
      width: 260px;
      height: 160px;
      z-index: 9999;
    }

    .ram-percentage {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 24px;
      font-weight: 600;
      color: #fff;
    }
 .ramm {
      position: absolute;
      bottom: 55px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 20px;

    }

/* cpu styles  */
.chart-box {
      position: relative;
      background: var(--bg);
      padding: 15px 20px 8px;
      border-radius: 16px;
      box-shadow: 0 0 12px rgba(0, 0, 0, 0.3);
      width: auto;

    }


    .chart-header {
      display: flex;
      justify-content: space-between;                                                                                                                                                      align-items: center;
      margin-bottom: 10px;
    }

    .chart-title {
      font-size: 18px;
      color: #94a3b8;
    }

    #tempDisplay {
      font-size: 18px;
      color: #ff9c9c;
      font-weight: 600;
    }



/*   weather css */


    .weather-card {
      background: transparent;
      border-radius: 16px;
      padding: 5px;
      width: 300px;
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .weather-city {
      font-size: 18px;
      margin-bottom: 10px;
      color: #94a3b8;
    }

    .weather-temp {
      font-size: 48px;
      font-weight: bold;
      background: linear-gradient(to right, #5ea9ff, #ff7c94);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .weather-desc {      font-size: 16px;
      margin-top: 5px;
      color: #cbd5e1;
      text-transform: capitalize;
    }

    .humidity {
      font-size: 16px;
      color: #94a3b8;
      margin-top: 5px;
    }


.disklabel {
      font-size: 20px;
      margin-top: 10px;
        position: absolute;
  top: 55%;
  left: 50%;
 transform: translate(-55%, -50%);
  /* Optional styling */
  z-index: 999;
  pointer-events: none;

    }
    .value {
      font-size: 1.2rem;
      font-weight: bold;
     color: #fff;
}

.diskwrap{
   width: 228px;
   height:140px;
   position: relative;
   flex-direction: column; /* or row depending on layout */
   align-items: center;     /* horizontal centering */
   justify-content: center; /* vertical centering */
   text-align: center;      /* optional: centers text inside elements */
   width: auto;
}


.button-stack {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center; /* vertical centering */
  align-items: center;     /* horizontal centering */
  padding-top: 2vh;
  padding-bottom: 2vh;
}

.button {
  margin: 8px 0;
  padding-top: 10px ;
  padding-bottom:; 10px
  text-align: center;
  width: 170px;
}

/* Your custom button style */
.button {
  font-size: 1rem;
  font-weight: bold;
  padding: 10px 40px;
  color: white;
  border: 2px solid transparent;
  border-radius: 50px;
  cursor: pointer;
  position: relative;
  background: transparent;
  transition: all 0.4s ease-in-out;
  text-transform: uppercase;

}

.button::before {
  content: "";
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background: linear-gradient(45deg, #8e2de2, #4a00e0);
  border-radius: 50px;
  z-index: -1;
  transition: all 0.4s ease-in-out;
}

.button::after {
  content: "";
  position: absolute;
  top: 1px;
  left: 1px;
  right: 1px;
  bottom: 1px;
  background: #0a0a0a;
  border-radius: 50px;
  z-index: -1;
  transition: all 0.4s ease-in-out;
}

.button:hover::after {
  background: linear-gradient(45deg, #8e2de2, #4a00e0);
}


/* HOMME BUTTON*/

.home-button::before,
.home-button:hover::after {

	background: transparent;
}
.home-button {
	margin-right: 8px;
        width: 50px;
        }

/* voice styling */

  .voice-card {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  text-align: center;
  background: radial-gradient(circle at top left, #0a0a0f, #0d0d16);
  box-shadow: 0 0 20px rgba(150, 100, 255, 0.2);
  border-radius: 1.2rem;
  padding: 1rem;
  color: #e0e0ff;
  position: relative;
  overflow: hidden;
}

.voice-card::before {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(120deg, #a46bff22, #ff79c622);
  pointer-events: none;
  mix-blend-mode: overlay;
}

.voice-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-weight: 500;
  font-size: 1rem;
}

#voiceStatus {
  color: #a46bff;
  font-family: monospace;
}

.voice-display {
  flex: 1;
  background: rgba(255, 255, 255, 0.04);
  border-radius: 0.8rem;
  margin: 1rem 0;
  padding: 1rem;
  font-size: 0.95rem;
  color: #dcdcff;
  text-shadow: 0 0 4px #a46bff55;
  overflow-y: auto;
  max-height: 100px;
  transition: 0.2s;
}

.voice-controls {
  display: flex;
  justify-content: center;
  align-items: center;
}

#voiceBtn {
  position: relative;
  background: linear-gradient(90deg, #a46bff, #ff79c6);
  border: none;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  color: #fff;
  font-size: 1.5rem;
  cursor: pointer;
  outline: none;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

#voiceBtn:hover {
  transform: scale(1.08);
  box-shadow: 0 0 15px #ff79c6aa;
}

#voiceBtn.active {
  box-shadow: 0 0 25px 4px #a46bffaa;
  animation: pulse 1.2s infinite;
}

@keyframes pulse {
  0% { box-shadow: 0 0 8px 2px #a46bff55; }
  50% { box-shadow: 0 0 20px 5px #ff79c655; }
  100% { box-shadow: 0 0 8px 2px #a46bff55; }
}
  
  
  </style>
</head>
<body>

    <canvas id="bgCanvas"></canvas>


  <div class="dashboard">

  <div class="header">
      <h2>Hello, ROSHAN</h2>
      <a href="index.php">
	<button class="button home-button" >

        	<svg xmlns="http://www.w3.org/2000/svg"
     fill="none"
     viewBox="0 0 24 24"
     stroke-width="1.5"
     stroke="currentColor"
     width="24"
     height="24">
  <path stroke-linecap="round"
        stroke-linejoin="round"
        d="M2.25 12L11.204 3.045c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0
        .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125
        1.125-1.125h2.25c.621 0 1.125.504
        1.125 1.125V21h4.125c.621 0 1.125-.504
        1.125-1.125V9.75M8.25 21h8.25" />
		</svg>


        </button>
		</a>
    </div>


    <div class="card visits-card">
           <h2>   </h2>
  <span id="visitCount" class="visit-number"></span>
    </div>


    <div class="card visits-card">
        <h2>     </h2>
   <span id="submissionCount" class="visit-number"> </span>
    </div>
    

<!--weather caard -->
    <div class="card">


 <div class="weather-card">
    <div class="weather-city" id="city">Loading...</div>
    <div class="weather-temp" id="temp">--°C</div>
    <div class="weather-desc" id="desc">--</div>
   </div>
  </div>


    <div class="card clock-container">
      <div id="time" class="time"></div>
      <div id="period" class="period"></div>
      <div id="date" class="date"></div>
    </div>

    <div class="card second-column">

    </div>

<div class="card second-column">
  <h3>  <h3>
  <div id="usdRate"> </div>
</div>


<div class="chart-box">
    <div class="chart-header">
      <div class="chart-title">CPU Usage (%)</div>
      <div id="tempDisplay">--°C</div>
    </div>
    <canvas id="cpuChart" height="130px" ></canvas>
  </div>




    <div class="card second-column">

<!--	<div class="ram-chart-container">  -->


    <canvas id="ramChart" width="228" height="140"></canvas>
    <div class="ramm" id="ram"> </div>
    <div class="ram-percentage" id="ramSpan"> --%</div>
    </div>

  <div class="card big-card">

  <div class="diskwrap">
     <canvas id="diskChart" width="228" height="140"></canvas>
  <div id="disked" class="disklabel"></div>
  <div class="value" id="diskLabel">0 GB / 0 GB</div>
  </div>

<div class="button-stack">

  <button onclick="performAction('run_script')"  class="button">Ngrok</button>
  <form action="fetch/logout.php" method="post" style="display:inline;">
	<button type="submit" class="button">Logout</button>
  </form>
  <button onclick="performAction('shutdown')" class="button">Shutdown</button>

</div>

 
 </div>
    

    <div class="card double-height ">
 
     
  <div class="voice-header">
    <h3>Voice Input</h3>
    <span id="voiceStatus">Idle</span>
  </div>

  <div class="voice-display">
    <p id="liveText">Press 🎤 to start speaking</p>
  </div>

  <div class="voice-controls">
    <button id="voiceBtn">
      <span class="glow-ring"></span>
      🎤
    </button>
  </div>

      
          
    </div>



	<div class="fullscreen-btn" id="fullscreenToggle" title="Toggle Fullscreen">
  <span id="fsIcon">⛶</span>
	</div>

</div>



  
  <script>

const voiceBtn = document.getElementById("voiceBtn");
const voiceStatus = document.getElementById("voiceStatus");

const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

if (!SpeechRecognition) {
  voiceStatus.textContent = "Speech recognition not supported.";
  voiceBtn.disabled = true;
} else {
  const recognition = new SpeechRecognition();
  recognition.lang = "en-US";
  recognition.interimResults = false; // no live transcription
  recognition.continuous = false;

  voiceBtn.onclick = async () => {
    try {
      await navigator.mediaDevices.getUserMedia({ audio: true });
      recognition.start();
    } catch (err) {
      voiceStatus.textContent = "Mic access denied.";
    }
  };

  recognition.onstart = () => {
    voiceStatus.textContent = "Listening… 🎧";
    voiceBtn.classList.add("active");
  };

  recognition.onresult = (event) => {
    let finalTranscript = "";
    for (let i = event.resultIndex; i < event.results.length; i++) {
      if (event.results[i].isFinal) {
        finalTranscript += event.results[i][0].transcript;
      }
    }

    // You can handle commands here using finalTranscript
    console.log("Heard:", finalTranscript);
    // e.g., trigger page navigation or other actions
  };

  recognition.onerror = (e) => {
    voiceStatus.textContent = "Error";
    console.error("STT Error:", e.error);
    voiceBtn.classList.remove("active");
  };

  recognition.onend = () => {
    voiceStatus.textContent = "Idle";
    voiceBtn.classList.remove("active");
  };
}    

</script>

  
 






<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <script>
    

	function updateClock() {
  const timeElement = document.getElementById('time');
  const periodElement = document.getElementById('period');
  const dateElement = document.getElementById('date');

  const now = new Date();

  let hours = now.getHours();
  let minutes = now.getMinutes();
  const period = hours >= 12 ? 'PM' : 'AM';
  hours = hours % 12;
  hours = hours ? hours : 12;
  minutes = minutes < 10 ? '0' + minutes : minutes;

  const timeString = `${hours}:${minutes}`;
  const weekday = now.toLocaleString('default', { weekday: 'long' });
  const month = now.toLocaleString('default', { month: 'long' });
  const dateString = `${weekday}, ${now.getDate()} ${month} ${now.getFullYear()}`;

  timeElement.textContent = timeString;
  periodElement.textContent = period;
  dateElement.textContent = dateString;
}

setInterval(updateClock, 1000);
updateClock(); // Initial call

 
 </script>
  
<script src="script.js"> </script>



  <script>
    window.addEventListener('DOMContentLoaded', () => {
      const ctx = document.getElementById('ramChart').getContext('2d');

      const gradient = ctx.createLinearGradient(0, 0, 0, 160);
      gradient.addColorStop(0, '#a5b4fc');
      gradient.addColorStop(0.5, '#c4b5fd');
      gradient.addColorStop(1, '#f0abfc');

      const ramChart = new Chart(ctx, {
        type: 'doughnut',
        data: {
          datasets: [{
            data: [0, 100],
            backgroundColor: [gradient, '#1e293b'],
            borderColor: ['transparent', 'transparent'],
            borderWidth: 0,
            borderRadius: 10,
            cutout: '80%',
            circumference: 220,
            rotation: 250
          }]
        },
        options: {
          plugins: { legend: { display: false } },
          responsive: false
        }
      });

      function updateRAM() {
        fetch('fetch/ram.php')
          .then(res => {
            if (!res.ok) throw new Error('HTTP error ' + res.status);
            return res.text();
          })
          .then(percent => {
            console.log('Fetched:', percent);
            const used = parseInt(percent);
            if (isNaN(used)) throw new Error('Invalid RAM value: ' + percent);
            const free = 100 - used;
            ramChart.data.datasets[0].data = [used, free];
            ramChart.update();
	    document.getElementById('ram').textContent = "RAM" ;
            document.getElementById('ramSpan').textContent =   used + '%';
          })
          .catch(err => {
            console.error('Fetch/update error:', err);
          });
      }

      updateRAM();
      setInterval(updateRAM, 10000);
    });
  </script>



<script>
  const city = "Sarapaka"; // Change to your city or pincode

  fetch(`https://wttr.in/${city}?format=j1`)
    .then(res => res.json())
    .then(data => {
      const weather = data.current_condition[0];
      document.getElementById("city").textContent = city;
      document.getElementById("temp").textContent = `${weather.temp_C}°C`;
      document.getElementById("desc").textContent =
        `${weather.weatherDesc[0].value} | Humidity: ${weather.humidity}%`;
    })
    .catch(err => {
      document.getElementById("city").textContent = "Failed to load";
      document.getElementById("temp").textContent = "--°C";
      document.getElementById("desc").textContent = "Check network or wttr.in";
      console.error(err);
    });
</script>
<script>

document.addEventListener("DOMContentLoaded", function () {
  // your existing chart code here

// script for disk usage
    const ctx = document.getElementById('diskChart').getContext('2d');
    const gradient = ctx.createLinearGradient(0, 0, 0, 160);
    gradient.addColorStop(0, '#a5b4fc');
    gradient.addColorStop(0.5, '#c4b5fd');
    gradient.addColorStop(1, '#f0abfc');

    const diskChart = new Chart(ctx, {
      type: 'doughnut',
      data: {
        datasets: [{
          data: [0, 100],
          backgroundColor: [gradient, '#1e293b'],
          borderColor: ['transparent', 'transparent'],
          borderWidth: 0,
          borderRadius: 10,
          cutout: '80%',
          circumference: 220,
          rotation: 250             }]
      },
      options: {
        plugins: { legend: { display: false } },
        responsive: false
      }
    });

    function updateDisk() {
      fetch('fetch/disk.php')
        .then(res => res.json())
        .then(data => {
          const used = data.percent;
const free = 100 - used;
          diskChart.data.datasets[0].data = [used, free];
          diskChart.update();
          document.getElementById('disked').textContent =  "Disk";
          document.getElementById('diskLabel').textContent =
            `${data.used_gb} GB / ${data.total_gb} GB`;
        });
    }

    updateDisk();
    setInterval(updateDisk, 300000);
  });

  </script>



<script>
   window.addEventListener('DOMContentLoaded', () => {
    const ctx = document.getElementById('cpuChart').getContext('2d');

    const cpuData = {
      labels: [],
      datasets: [{
        label: 'CPU %',
        data: [],  
        fill: true,  
        borderColor: '#60a5fa',  
        backgroundColor: 'rgba(96, 165, 250, 0.2)',  
        tension: 0.4,  
        pointRadius: 0  
      }]  
    };  
  
    const cpuChart = new Chart(ctx, {  
      type: 'line',  
      data: cpuData,  
      options: {  
        animation: false,  
        responsive: true,  
        scales: {  
          x: { display: false },  
          y: {  
            beginAtZero: true,  
            max: 100,  
            ticks: {  
               stepSize: 20,  
               color: '#cbd5e1'  
            },  
            grid: { color: '#334155' }  
          }  
        },  
        plugins: {  
          legend: { display: false }  
        }  
      }  
    });
  
    function updateCPU() {  
      fetch('fetch/cpu.php')  
        .then(res => res.json())  
        .then(data => {
          const now = new Date().toLocaleTimeString();  
          const percent = parseFloat(data.usage);  
          const temp = data.temp;
          const warning = temp > 60 ? ' ⚠️' : '';  
  
          if (cpuData.labels.length >= 30) {  
            cpuData.labels.shift();  
            cpuData.datasets[0].data.shift();  
          }  
          cpuData.labels.push(now);  
          cpuData.datasets[0].data.push(percent);  
          cpuChart.update();  
  
          document.getElementById('tempDisplay').textContent = ` ${temp}°C${warning}`;  
        });  
    }  
  
    setInterval(updateCPU, 10000);  
    updateCPU();  
  });  
</script>



<script>
// script  for fullscreen

document.addEventListener('DOMContentLoaded', () => {
const toggle = document.getElementById('fullscreenToggle');
  const icon = document.getElementById('fsIcon');

  function updateIcon() {
    icon.textContent = document.fullscreenElement ?  '⛶' : '⛶'; // Use compress/expand icons
  }

  toggle.addEventListener('click', () => {
    if (!document.fullscreenElement) {
      document.documentElement.requestFullscreen();
    } else {
      document.exitFullscreen();
    }
  });

  document.addEventListener('fullscreenchange', updateIcon);
});
</script>


<script>
//script for buttons

function performAction(action) {
  fetch('fetch/button.php', {
    method: 'POST',
    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
    body: 'action=' + action
  })
  .then(response => response.text())
  .then(result => alert(result));
}
</script>

</body>
</html>
